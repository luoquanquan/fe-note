<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.3.0"><link rel="apple-touch-icon" sizes="180x180" href="/images/favicon.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.png"><link rel="mask-icon" href="/images/logo.svg" color="#222"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css"><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:new URL("http://note.niubishanshan.top").hostname,root:"/",scheme:"Gemini",version:"7.7.0",exturl:!1,sidebar:{position:"left",display:"post",padding:18,offset:12,onmobile:!1},copycode:{enable:!1,show_result:!1,style:null},back2top:{enable:!0,sidebar:!1,scrollpercent:!0},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!1,mediumzoom:!1,lazyload:!1,pangu:!1,comments:{style:"tabs",active:null,storage:!0,lazyload:!1,nav:null},algolia:{appID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1},path:"search.json",motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}}}</script><meta name="description" content="UDP 的概念UDP, 用户数据包协议. 是一种简单的面向数据包的协议. 即对会话层提交下来的报文不合并, 不拆分. 只是在其上边添加了首部就直接交给了下层的网络层. 也就是说无论应用层交给 UDP 多长的报文, 它统统发送. 一次发送一个报文. 对于接收方也是不管收到多长的 UDP 报文都是直接去除首部后交给上层的应用层.UDP 报头包括 4 个字段, 每个字段占用 2 个字节（即 16 个二进"><meta property="og:type" content="article"><meta property="og:title" content="如何理解 TCP 和 UDP"><meta property="og:url" content="http://note.niubishanshan.top/%E9%9D%A2%E8%AF%95/%E7%BD%91%E7%BB%9C/%E9%9D%A2%E8%AF%95/%E7%BD%91%E7%BB%9C/%E5%A6%82%E4%BD%95%E7%90%86%E8%A7%A3%20TCP%20%E5%92%8C%20UDP/index.html"><meta property="og:site_name" content="圈圈的笔记"><meta property="og:description" content="UDP 的概念UDP, 用户数据包协议. 是一种简单的面向数据包的协议. 即对会话层提交下来的报文不合并, 不拆分. 只是在其上边添加了首部就直接交给了下层的网络层. 也就是说无论应用层交给 UDP 多长的报文, 它统统发送. 一次发送一个报文. 对于接收方也是不管收到多长的 UDP 报文都是直接去除首部后交给上层的应用层.UDP 报头包括 4 个字段, 每个字段占用 2 个字节（即 16 个二进"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://handle-note-img.niubishanshan.top/2021-12-09-18-54-35.png"><meta property="og:image" content="https://handle-note-img.niubishanshan.top/2021-12-09-18-54-46.png"><meta property="og:image" content="https://handle-note-img.niubishanshan.top/2021-12-09-18-59-29.png"><meta property="og:image" content="https://handle-note-img.niubishanshan.top/2021-12-09-19-00-09.png"><meta property="og:image" content="https://handle-note-img.niubishanshan.top/2021-12-09-19-00-53.png"><meta property="article:published_time" content="2021-12-09T10:42:31.000Z"><meta property="article:modified_time" content="2024-06-27T15:04:43.301Z"><meta property="article:author" content="圈圈的圈"><meta property="article:tag" content="面试"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://handle-note-img.niubishanshan.top/2021-12-09-18-54-35.png"><link rel="canonical" href="http://note.niubishanshan.top/%E9%9D%A2%E8%AF%95/%E7%BD%91%E7%BB%9C/%E9%9D%A2%E8%AF%95/%E7%BD%91%E7%BB%9C/%E5%A6%82%E4%BD%95%E7%90%86%E8%A7%A3%20TCP%20%E5%92%8C%20UDP/"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0}</script><title>如何理解 TCP 和 UDP | 圈圈的笔记</title><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript></head><body itemscope itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div> <a target="_blank" rel="noopener" href="https://github.com/luoquanquan" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513;color:#fff;position:absolute;top:0;border:0;right:0" aria-hidden="true"><path d="M0 0 115 115 130 115 142 142 250 250 250 0Z"></path><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-meta"><div><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">圈圈的笔记</span><span class="logo-line-after"><i></i></span></a></div><p class="site-subtitle">路漫漫其修远兮, 吾将上下而求索</p></div><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-fw fa-home"></i> 首页</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i> 标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i> 分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i> 归档</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i> 关于</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i> 搜索</a></li></ul></nav><div class="site-search"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"> <input autocomplete="off" autocorrect="off" autocapitalize="none" placeholder="搜索..." spellcheck="false" type="text" id="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"></div></div><div class="search-pop-overlay"></div></div></div></header><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span>0%</span></div><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content"><div class="posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="http://note.niubishanshan.top/%E9%9D%A2%E8%AF%95/%E7%BD%91%E7%BB%9C/%E9%9D%A2%E8%AF%95/%E7%BD%91%E7%BB%9C/%E5%A6%82%E4%BD%95%E7%90%86%E8%A7%A3%20TCP%20%E5%92%8C%20UDP/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.png"><meta itemprop="name" content="圈圈的圈"><meta itemprop="description" content="技术学习, 读书笔记, 生活感悟 ~"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="圈圈的笔记"></span><header class="post-header"><h1 class="post-title" itemprop="name headline"> 如何理解 TCP 和 UDP</h1><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建时间：2021-12-09 18:42:31" itemprop="dateCreated datePublished" datetime="2021-12-09T18:42:31+08:00">2021-12-09</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-check-o"></i></span> <span class="post-meta-item-text">更新于</span> <time title="修改时间：2024-06-27 23:04:43" itemprop="dateModified" datetime="2024-06-27T23:04:43+08:00">2024-06-27</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E9%9D%A2%E8%AF%95/" itemprop="url" rel="index"><span itemprop="name">面试</span></a></span> ， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E9%9D%A2%E8%AF%95/%E7%BD%91%E7%BB%9C/" itemprop="url" rel="index"><span itemprop="name">网络</span></a></span></span><span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span> <span class="post-meta-item-text">阅读次数：</span><span id="busuanzi_value_page_pv"></span></span></div></header><div class="post-body" itemprop="articleBody"><h2 id="UDP-的概念"><a href="#UDP-的概念" class="headerlink" title="UDP 的概念"></a>UDP 的概念</h2><p>UDP, 用户数据包协议. 是一种简单的面向数据包的协议. 即对会话层提交下来的报文不合并, 不拆分. 只是在其上边添加了首部就直接交给了下层的网络层. 也就是说无论应用层交给 UDP 多长的报文, 它统统发送. 一次发送一个报文. 对于接收方也是不管收到多长的 UDP 报文都是直接去除首部后交给上层的应用层.<br>UDP 报头包括 4 个字段, 每个字段占用 2 个字节（即 16 个二进制位）, 标题短, 开销小</p><span id="more"></span><p><img src="https://handle-note-img.niubishanshan.top/2021-12-09-18-54-35.png" alt="2021-12-09-18-54-35"></p><h2 id="UDP-特点"><a href="#UDP-特点" class="headerlink" title="UDP 特点"></a>UDP 特点</h2><ol><li>UDP 不提供复杂的控制机制, 利用 IP 提供面向无连接的通信服务</li><li>传输过程中出现丢包 UDP 不负责重发</li><li>当多个包到达顺序出现错乱时, UDP 不具备纠正功能</li><li>由于 UDP 接收到应用层发来的数据后立即就会发送到下层网络层, 即便是当前网络层处于拥塞状态, UDP 也无法进行流量控制来避免网络拥塞</li></ol><h2 id="TCP-的概念"><a href="#TCP-的概念" class="headerlink" title="TCP 的概念"></a>TCP 的概念</h2><p>TCP, 传输控制协议. 是一种可靠的面向字节流的通信协议. 他会把上层应用层提交下来的数据看成无结构的字节流来发送给网络层. 发送方 TCP 会将数据放入缓冲区, 等到可以发送的时候在发送不能发送时候就排队等着. 可以根据当前的网络情况来确定每个报文段的大小, 此处由于 UDP 的一把梭策略. TCP 的报文首部有 20 个字节, 额外开销大于 UDP 的 8 字节</p><p><img src="https://handle-note-img.niubishanshan.top/2021-12-09-18-54-46.png" alt="2021-12-09-18-54-46"></p><h2 id="TCP-的特点"><a href="#TCP-的特点" class="headerlink" title="TCP 的特点"></a>TCP 的特点</h2><ol><li>充分实现了数据传输时的控制功能, 可以进行丢包时重发的机制. 还可以对次序乱掉的分包进行排序</li><li>作为一种面向有链接的协议, 只有在确认接收方存在时才会发送数据. 从而可以控制通信流量的浪费</li><li>通过检验和, 序列号, 确认应答, 重发控制, 连接管理等机制保证了通信的稳定性好可靠性. 🤔</li></ol><h2 id="TCP-和-UDP-的区别"><a href="#TCP-和-UDP-的区别" class="headerlink" title="TCP 和 UDP 的区别"></a>TCP 和 UDP 的区别</h2><p><img src="https://handle-note-img.niubishanshan.top/2021-12-09-18-59-29.png" alt="2021-12-09-18-59-29"></p><p><img src="https://handle-note-img.niubishanshan.top/2021-12-09-19-00-09.png" alt="2021-12-09-19-00-09"></p><ol><li>TCP 是面向链接的协议, 建立连接 3 次握手. 断开链接 4 次挥手. UDP 面向无链接, 数据传输过程中不会创建链接. 发送端只负责发送数据到网络层. 接收端负责从消息队列中读取</li><li>TCP 提供可靠的服务, 传输过程中采用流量控制, 编号与确认, 计时器等手段保证数据传输没有差错. UDP 则尽可能传输数据, 但是不保证能够稳定传输给接收方</li><li>TCP 面向字节流, 会将应用层报文处理成一串无结构的字节流, 分解为多段 TCP 报文段传输后在接收方重新装配. UDP 面向报文, 不进行报文的拆分. 只保留报文边界一次发送一个报文. 接收方接收到数据后去除报文首部直接原封不动的上交给应用层</li><li>TCP 只能做点对点的全双工通信, UDP 支持 一对一, 一对多, 多对一, 多对多的交互通信</li></ol><h2 id="TCP-x2F-UDP-主要使用场景"><a href="#TCP-x2F-UDP-主要使用场景" class="headerlink" title="TCP&#x2F;UDP 主要使用场景"></a>TCP&#x2F;UDP 主要使用场景</h2><p><img src="https://handle-note-img.niubishanshan.top/2021-12-09-19-00-53.png" alt="2021-12-09-19-00-53"></p></div><footer class="post-footer"><div class="post-tags"> <a href="/tags/%E9%9D%A2%E8%AF%95/" rel="tag"># 面试</a></div><div class="post-nav"><div class="post-nav-item"><a href="/%E9%9D%A2%E8%AF%95/%E7%BD%91%E7%BB%9C/%E9%9D%A2%E8%AF%95/%E7%BD%91%E7%BB%9C/http%20vs%20https/" rel="prev" title="http vs https"><i class="fa fa-chevron-left"></i> http vs https</a></div><div class="post-nav-item"> <a href="/%E9%9D%A2%E8%AF%95/%E7%BD%91%E7%BB%9C/%E9%9D%A2%E8%AF%95/%E7%BD%91%E7%BB%9C/OSI%20%E4%B8%83%E5%B1%82%E6%A8%A1%E5%9E%8B/" rel="next" title="OSI 七层模型">OSI 七层模型<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div></div><script>
  window.addEventListener('tabs:register', function() {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc"> 文章目录</li><li class="sidebar-nav-overview"> 站点概览</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#UDP-%E7%9A%84%E6%A6%82%E5%BF%B5"><span class="nav-text">UDP 的概念</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#UDP-%E7%89%B9%E7%82%B9"><span class="nav-text">UDP 特点</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#TCP-%E7%9A%84%E6%A6%82%E5%BF%B5"><span class="nav-text">TCP 的概念</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#TCP-%E7%9A%84%E7%89%B9%E7%82%B9"><span class="nav-text">TCP 的特点</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#TCP-%E5%92%8C-UDP-%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="nav-text">TCP 和 UDP 的区别</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#TCP-x2F-UDP-%E4%B8%BB%E8%A6%81%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="nav-text">TCP&#x2F;UDP 主要使用场景</span></a></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" alt="圈圈的圈" src="/images/avatar.png"><p class="site-author-name" itemprop="name">圈圈的圈</p><div class="site-description" itemprop="description">技术学习, 读书笔记, 生活感悟 ~</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"> <a href="/archives/"><span class="site-state-item-count">142</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"> <a href="/categories/"><span class="site-state-item-count">35</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"> <a href="/tags/"><span class="site-state-item-count">8</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://juejin.im/user/5837c2bd61ff4b006ca8d1b2" title="掘金 → https:&#x2F;&#x2F;juejin.im&#x2F;user&#x2F;5837c2bd61ff4b006ca8d1b2" rel="noopener" target="_blank"><i class="fa fa-fw fa-stack-overflow"></i> 掘金</a></span><span class="links-of-author-item"><a href="https://github.com/luoquanquan" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;luoquanquan" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i> GitHub</a></span><span class="links-of-author-item"><a href="mailto:luo_quanquan@163.com" title="E-Mail → mailto:luo_quanquan@163.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i> E-Mail</a></span></div></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="beian"><a href="http://www.beian.miit.gov.cn/" rel="noopener" target="_blank">京ICP备17034706号-1</a></div><div class="copyright"> &copy; <span itemprop="copyrightYear">2024</span><span class="with-love"><i class="fa fa-user"></i></span> <span class="author" itemprop="copyrightHolder">圈圈的圈</span></div><div class="busuanzi-count"><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span class="post-meta-item" id="busuanzi_container_site_uv"><span class="post-meta-item-icon"><i class="fa fa-user"></i></span><span class="site-uv" title="总访客量"><span id="busuanzi_value_site_uv"></span></span></span> <span class="post-meta-divider">|</span><span class="post-meta-item" id="busuanzi_container_site_pv"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span><span class="site-pv" title="总访问量"><span id="busuanzi_value_site_pv"></span></span></span></div></div></footer></div><script color="0,0,255" opacity="0.5" zindex="-1" count="99" src="/js/theme-next-canvas-nest/canvas-nest.min.js"></script><script src="/lib/anime.min.js"></script><script src="/lib/velocity/velocity.min.js"></script><script src="/lib/velocity/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/pisces.js"></script><script src="/js/next-boot.js"></script><script src="/js/local-search.js"></script></body></html>